<!DOCTYPE html>
<html lang="en">
<head>
  <title>Unreal Control Panel</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jQuery-Knob/1.2.13/jquery.knob.min.js"></script>
</head>
<body>

  <script>

    let text = '{ "values": [' +
               '{ "minimum":0 ,"maximum": 255, "dialValue": 30 },' +
               '{ "minimum":0 ,"maximum": 100, "dialValue": 25 },' +
               '{ "minimum":0 ,"maximum": 100, "dialValue": 80 },' +
               '{ "minimum":0 ,"maximum": 100, "dialValue": 2 },' +
               '{ "minimum":0 ,"maximum": 255, "dialValue": 100 },' +
               '{ "minimum":0, "maximum": 255, "dialValue": 40 } ]}';

    const myJSON = JSON.parse(text);
    console.log(myJSON.values.length);

  </script>

<div class="container-fluid" id="heading">
  <h1>Control Panel</h1>
</div>


<!-- <div class="row">

  <div class="col"><div class="container-fluid">
    <input type="text" class="dial1">

      <script>
          $(".dial1").knob({
              'change' : function (v) { console.log(v); }
          });

          $('.dial1').trigger(
              'configure',
              {
                  "min": myJSON.values[0].minimum,
                  "max": myJSON.values[0].maximum,
                  "fgColor":"#32a0a8"
              }
          );

          $('.dial1')
              .val(myJSON.values[0].dialValue)
              .trigger('change');
      </script>

    </div></div>

    <div class="col"><div class="container-fluid">
      <input type="text" class="dial2">

        <script>
            $(".dial2").knob({
                'change' : function (v) { console.log(v); }
            });

            $('.dial2').trigger(
                'configure',
                {
                    "min":myJSON.values[1].minimum,
                    "max":myJSON.values[1].maximum,
                    "fgColor":"#32a0a8"

                }
            );

            $('.dial2')
                .val(myJSON.values[1].dialValue)
                .trigger('change');
        </script>
      </div></div>

      <div class="col"><div class="container-fluid">
        <input type="text" class="dial3">

          <script>
              $(".dial3").knob({
                  'change' : function (v) { console.log(v); }
              });

              $('.dial3').trigger(
                  'configure',
                  {
                      "min":myJSON.values[2].minimum,
                      "max":myJSON.values[2].maximum,
                      "fgColor":"#32a0b7"

                  }
              );

              $('.dial3')
                  .val(myJSON.values[2].dialValue)
                  .trigger('change');
          </script>
        </div></div>


</div> -->


  <script>
  let numtick = 0;
  var node = document.createElement("div");
  node.id = 'bigdiv';
  node.className = 'container-fluid';
  document.body.appendChild(node);

  var yaboi = document.createElement('div');
  yaboi.className = 'row';
  node.appendChild(yaboi);

  for (let i = 0; i < (myJSON.values.length); i++) {

    let div = document.createElement('div');
    div.id = 'content'+ numtick;
    div.className = 'col-4';


    yaboi.appendChild(div);


    let input = document.createElement('input');
    input.id = 'testerdiv'+ numtick;
    input.className = 'dial' + numtick;
    div.append(input);


    let dialboi =
      $(".dial" + numtick).knob({
          'change' : function (v) { console.log(v); }
        });

      $('.dial' + numtick).trigger(
          'configure',
          {   "min":myJSON.values[numtick].minimum,
              "max":myJSON.values[numtick].maximum,
              "fgColor":"#32a0b7"
          });

      $('.dial' + numtick)
          .val(myJSON.values[numtick].dialValue)
          .trigger('change');;

      input.append(dialboi);

      console.log(numtick);
      numtick += 1;
    }
  </script>




</body>

</html>
